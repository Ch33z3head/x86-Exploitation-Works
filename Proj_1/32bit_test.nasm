;-----------------------------------------
;Jamie Grunewald
;This program should create 32bit_test.txt
;Print stuff in the file and write/close it
;Compile code:
;nasm -f elf 32bit_test.nasm && ld 32bit_test.o -o 32bit_test
;------------------------------------------
section .text

global _start
_start:

   ; create flie
   mov eax, 8
   mov ebx, filename
   mov ecx, 777         ;set perms on file - r+w+x
   int 0x80
   mov [fdout],eax

   ;Write some stuff into the flie
   mov eax, 4
   mov ebx, [fdout]
   lea ecx, file_content
   mov edx, lendata
   int 0x80

   ;Close file
   mov eax, 6
   mov ebx, [fdout]
   int 0x80

  ;exit
  mov eax, 1
  int 0x80

section .data
   filename db '32bit_test.txt', 0
   file_content db 'Greetings, shall we play a game?',0
   lendata equ $ -file_content

section .bss
   fdout resb 1 ; file descriptor byte resvervation


